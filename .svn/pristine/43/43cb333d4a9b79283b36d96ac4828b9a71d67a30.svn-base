using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Web;

namespace MicroService.Library
{
    public class TextTypeTypeHelper
    {
        public static TextType Check(string text)
        {
            text = HttpUtility.UrlDecode(text);
            TextType type = TextType.PlainText;
            if ((text.StartsWith("<?") || text.StartsWith("<")) && (text.EndsWith("/>") || text.EndsWith(">"))) type = TextType.Xml;
            else if ((text.StartsWith("{") && text.EndsWith("}")) || (text.StartsWith("[") && text.EndsWith("]"))) type = TextType.Json;
            return type;
        }
    }

    public enum TextType
    {
        PlainText,
        Json,
        Xml,
    }
}
